@inherits LayoutComponentBase
@inject IJSRuntime JSRuntime

<PageTitle>Otaku Market</PageTitle>

<div class="horizontal-layout">
    @Body
</div>

<div id="blazor-error-ui">
    An unhandled error has occurred.
    <a href="" class="reload">Reload</a>
    <a class="dismiss">ðŸ—™</a>
</div>

@code {
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        await base.OnAfterRenderAsync(firstRender);
        
        if (firstRender)
        {
            // Ensure that the JavaScript interop is working correctly
            try 
            {
                await JSRuntime.InvokeVoidAsync("console.log", "HorizontalLayout initialized");
            }
            catch (Exception ex)
            {
                Console.WriteLine($"JavaScript interop error: {ex.Message}");
            }
        }
    }
} 